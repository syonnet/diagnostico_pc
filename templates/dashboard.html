{% extends 'base.html' %}

{% block title %}Panel de Control{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Panel de Control</h2>
    <small class="text-muted">Resumen de la actividad del sistema</small>
</div>

<div class="row g-4">
    {# Tarjeta: Total de Clientes #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-primary mb-3 shadow-sm rounded-3">
            <div class="card-header">Total de Clientes</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-people-fill fs-2"></i>
                    <span>{{ total_clientes }}</span>
                </h3>
                <p class="card-text">Clientes registrados en el sistema.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Total de Diagnósticos #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-info mb-3 shadow-sm rounded-3">
            <div class="card-header">Total de Diagnósticos</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-tools fs-2"></i>
                    <span>{{ total_diagnosticos }}</span>
                </h3>
                <p class="card-text">Diagnósticos de equipos registrados.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Ingresos Estimados #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-success mb-3 shadow-sm rounded-3">
            <div class="card-header">Ingresos Estimados</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-currency-dollar fs-2"></i>
                    <span>${{ "%.2f"|format(ingresos_estimados) }}</span>
                </h3>
                <p class="card-text">Suma de costos de servicios finalizados.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos Pendientes #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-dark bg-warning mb-3 shadow-sm rounded-3">
            <div class="card-header">Diagnósticos Pendientes</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-hourglass-split fs-2"></i>
                    <span>{{ diagnosticos_por_estado.Pendiente|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos en espera de revisión.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos En Revisión #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-secondary mb-3 shadow-sm rounded-3">
            <div class="card-header">Diagnósticos En Revisión</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-search fs-2"></i>
                    <span>{{ diagnosticos_por_estado['En Revisión']|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos siendo diagnosticados.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos Reparados #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-success mb-3 shadow-sm rounded-3">
            <div class="card-header">Diagnósticos Reparados</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-check-circle-fill fs-2"></i>
                    <span>{{ diagnosticos_por_estado.Reparado|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos listos para ser entregados.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos Entregados #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-primary mb-3 shadow-sm rounded-3">
            <div class="card-header">Diagnósticos Entregados</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-box-seam-fill fs-2"></i>
                    <span>{{ diagnosticos_por_estado.Entregado|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos ya entregados a sus dueños.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos Irreparables #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-danger mb-3 shadow-sm rounded-3">
            <div class="card-header">Diagnósticos Irreparables</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-x-circle-fill fs-2"></i>
                    <span>{{ diagnosticos_por_estado.Irreparable|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos que no pudieron ser reparados.</p>
            </div>
        </div>
    </div>

    {# Tarjeta: Diagnósticos Devueltos sin reparar #}
    <div class="col-md-6 col-lg-4">
        <div class="card text-white bg-dark mb-3 shadow-sm rounded-3">
            <div class="card-header">Devueltos sin reparar</div>
            <div class="card-body">
                <h3 class="card-title d-flex align-items-center justify-content-between">
                    <i class="bi bi-arrow-return-left fs-2"></i>
                    <span>{{ diagnosticos_por_estado['Devuelto sin reparar']|default(0) }}</span>
                </h3>
                <p class="card-text">Equipos devueltos sin intervención.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
